webpackJsonp([0],{25:function(t,e,s){"use strict";function n(t){s(26)}var a={name:"spinner",props:["show"],serverCacheKey:function(t){return t.show}},i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[s("svg",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"spinner",class:{show:t.show},attrs:{width:"44px",height:"44px",viewBox:"0 0 44 44"}},[s("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},r=[],o={render:i,staticRenderFns:r},c=o,l=s(0),d=n,u=l(a,c,!1,d,null,null);e.a=u.exports},26:function(t,e,s){var n=s(27);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("dcfe3e92",n,!0)},27:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,".spinner{-webkit-transition:opacity .15s ease;-o-transition:opacity .15s ease;transition:opacity .15s ease;-webkit-animation:rotator 1.4s linear infinite;animation:rotator 1.4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}.spinner.show{-webkit-animation-play-state:running;animation-play-state:running}.spinner.v-enter,.spinner.v-leave-active{opacity:0}.spinner.v-enter-active,.spinner.v-leave{opacity:1}.spinner .path{stroke:#f60;stroke-dasharray:126;stroke-dashoffset:0;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-animation:dash 1.4s ease-in-out infinite;animation:dash 1.4s ease-in-out infinite}@-webkit-keyframes rotator{0%{-webkit-transform:scale(.5) rotate(0deg);transform:scale(.5) rotate(0deg)}to{-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}}@keyframes rotator{0%{-webkit-transform:scale(.5) rotate(0deg);transform:scale(.5) rotate(0deg)}to{-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}}@-webkit-keyframes dash{0%{stroke-dashoffset:126}50%{stroke-dashoffset:63;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:126;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes dash{0%{stroke-dashoffset:126}50%{stroke-dashoffset:63;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:126;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}",""])},32:function(t,e,s){var n=s(33);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("0e535ae0",n,!0)},33:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"",""])},34:function(t,e,s){var n=s(35);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("7fedf07c",n,!0)},35:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"\n.separating-line {\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n}\n",""])},36:function(t,e,s){var n=s(37);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("037b41c6",n,!0)},37:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"",""])},38:function(t,e,s){var n=s(39);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("8493f41e",n,!0)},39:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"\nli.mdc-list-item.token-list--table-row.token--wrap-text.device-group-token-list--list-item {\n  height: auto;\n}\n",""])},40:function(t,e,s){var n=s(41);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("3fdf6a2b",n,!0)},41:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"",""])},63:function(t,e,s){"use strict";function n(t){s(34)}function a(t){s(36)}function i(t){s(38)}function r(t){s(40)}function o(t){s(32)}Object.defineProperty(e,"__esModule",{value:!0});var c=s(25),l=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))(function(a,i){function r(t){try{c(n.next(t))}catch(t){i(t)}}function o(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?a(t.value):new s(function(e){e(t.value)}).then(r,o)}c((n=n.apply(t,e||[])).next())})},d=this&&this.__generator||function(t,e){function s(t){return function(e){return n([t,e])}}function n(s){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,i&&(r=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){c.label=s[1];break}if(6===s[0]&&c.label<r[1]){c.label=r[1],r=s;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(s);break}r[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{a=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var a,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},u={name:"device-group-msg",components:{Spinner:c.a},data:function(){return{destUserId:"",chosenLang:"",title:"",message:"",result:void 0,loading:!1,chosenDebugUser:""}},created:function(){},mounted:function(){window.mdc.textField.MDCTextField.attachTo(document.querySelector(".mdc-text-field"))},computed:{userId:function(){return this.$store.state.userId},debugUsers:function(){return this.$store.state.debugUsers},availableLangs:function(){return this.$store.state.availableLangs}},watch:{destUserId:function(t){t&&(this.chosenDebugUser="")},chosenDebugUser:function(t){t&&(this.destUserId="")}},asyncData:function(t){return t.store.dispatch("FETCH_DEBUG_USERS").dispatch("FETCH_AVAILABLE_LANGS")},methods:{sendMessage:function(){return l(this,void 0,void 0,function(){var t,e,s;return d(this,function(n){switch(n.label){case 0:return this.result=void 0,(this.loading=!0,this.chosenLang&&(this.destUserId||this.chosenDebugUser))?(this.chosenDebugUser&&(this.destUserId=this.chosenDebugUser),t={userId:this.destUserId,title:this.title,message:this.message,lang:this.chosenLang},[4,fetch("/api/custom-message",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken},body:JSON.stringify(t)})]):(this.result="All fields must be filled!",[2]);case 1:return e=n.sent(),[4,e.json()];case 2:return s=n.sent(),this.loading=!1,"failure"===s.status?this.result="Failure: Check if you added tokens to the device group chosen":this.result="\n        Message successfully sent to device group.\n        Success: "+s.result.success+"\n        Failure: "+s.result.failure,[2]}})})}}},p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__supporting-text",staticStyle:{"font-style":"italic","margin-top":"10px"}},[t._v("\n      The device groups are automatically created when a user is registered,\n      and the number of device groups for each user are determined by the number of languages available.\n      Therefore the device group name chosen here depends on User ID and the the language chosen\n    ")]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destUserId,expression:"destUserId"}],staticClass:"mdc-text-field__input",attrs:{id:"device-group-dest-user-id",type:"text"},domProps:{value:t.destUserId},on:{input:function(e){e.target.composing||(t.destUserId=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"device-group-dest-user-id"}},[t._v("\n                User ID\n              ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])])])]),s("section",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n        OR pick a debug User ID:\n        "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenDebugUser,expression:"chosenDebugUser"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenDebugUser=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.debugUsers,function(e){return s("option",{domProps:{value:e.userId}},[t._v(t._s(e.username))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n        Choose Language:\n        "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenLang,expression:"chosenLang"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenLang=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.availableLangs,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"mdc-text-field__input",attrs:{id:"device-group-msg-title",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"device-group-msg-title"}},[t._v("\n                Title\n              ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])]),s("div",[s("div",{staticClass:"mdc-text-field mdc-text-field--textarea"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"mdc-text-field__input",attrs:{id:"device-group-msg-message",rows:"8",cols:"40",placeholder:"Message Body"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])]),s("section",{staticClass:"mdc-card__primary"},[s("pre",{staticClass:"prettyprint lang-js"},[t._v("fetch('https://iceicebaby.com/api/custom-message',{\n  method: 'POST',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'x-access-token': '"+t._s(t.$store.state.authToken)+"'\n  },\n  body: JSON.stringify({\n    userId: '"+t._s(t.destUserId)+"',\n    title: '"+t._s(t.title)+"',\n    message: '"+t._s(t.message)+"',\n    lang: '"+t._s(t.chosenLang)+"'\n  })\n});\n      ")])]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.result||t.loading,expression:"result || loading"}],staticClass:"mdc-card__primary"},[s("Spinner",{attrs:{show:t.loading}}),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Result:")]),t._v("\n      "+t._s(t.result)+"\n    ")],1),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendMessage()}}},[t._v("Punch It!")])])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Send to Device Group")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Send a message to the device group the user belongs to")])])}],h={render:p,staticRenderFns:m},f=h,v=s(0),_=n,g=v(u,f,!1,_,null,null),b=g.exports,y=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))(function(a,i){function r(t){try{c(n.next(t))}catch(t){i(t)}}function o(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?a(t.value):new s(function(e){e(t.value)}).then(r,o)}c((n=n.apply(t,e||[])).next())})},C=this&&this.__generator||function(t,e){function s(t){return function(e){return n([t,e])}}function n(s){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,i&&(r=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){c.label=s[1];break}if(6===s[0]&&c.label<r[1]){c.label=r[1],r=s;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(s);break}r[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{a=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var a,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},w={name:"device-group-list",components:{Spinner:c.a},created:function(){},data:function(){return{destUserId:"",loading:!1,groupList:[],result:""}},methods:{sendRequest:function(){return y(this,void 0,void 0,function(){var t,e,s=this;return C(this,function(n){switch(n.label){case 0:return t="/api/device-group/groups/"+this.destUserId,this.loading=!0,[4,fetch("/api/device-group/groups/"+this.destUserId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken}})];case 1:return e=n.sent(),[4,e.json().then(function(t){"success"===t.status?(t.result,s.groupList=t.result,s.destUserId="",s.result="Success"):s.result=t.status}).catch(function(t){s.result=t})];case 2:return n.sent(),this.loading=!1,[2]}})})}}},x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destUserId,expression:"destUserId"}],staticClass:"mdc-text-field__input",attrs:{id:"device-group-list-dest-user-id",type:"text"},domProps:{value:t.destUserId},on:{input:function(e){e.target.composing||(t.destUserId=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"device-group-list-dest-user-id"}},[t._v("\n                User ID\n              ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("pre",{staticClass:"prettyprint"},[t._v("fetch('https://iceicebaby.com/api/device-group/groups/"+t._s(t.destUserId)+"',{\n  method: 'GET',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'x-access-token': "+t._s(t.$store.state.authToken)+"\n  }\n});\n      ")])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{directives:[{name:"show",rawName:"v-show",value:t.groupList.length>0||t.loading,expression:"groupList.length > 0 || loading"}],staticClass:"mdc-card__supporting-text"},[s("Spinner",{attrs:{show:t.loading}}),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Result: "+t._s(t.result))]),s("ul",{staticClass:"mdc-list mdc-list--dense demo-list token-list--table-body"},t._l(t.groupList,function(e){return s("li",{staticClass:"mdc-list-item token-list--table-row token--wrap-text"},[s("span",{staticClass:"mdc-list-item__text"},[t._v("\n            "+t._s(e)+"\n          ")])])}))],1),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendRequest()}}},[t._v("Punch It!")])])])},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Query Device Group")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Find available device groups from User ID")])])}],I={render:x,staticRenderFns:k},L=I,U=s(0),T=a,S=U(w,L,!1,T,null,null),D=S.exports,P=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))(function(a,i){function r(t){try{c(n.next(t))}catch(t){i(t)}}function o(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?a(t.value):new s(function(e){e(t.value)}).then(r,o)}c((n=n.apply(t,e||[])).next())})},j=this&&this.__generator||function(t,e){function s(t){return function(e){return n([t,e])}}function n(s){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,i&&(r=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){c.label=s[1];break}if(6===s[0]&&c.label<r[1]){c.label=r[1],r=s;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(s);break}r[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{a=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var a,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},E={name:"device-group-token-list",components:{Spinner:c.a},created:function(){},data:function(){return{chosenLang:"",availableLang:["zh-hk","en"],destUserId:"",loading:!1,tokenList:[],result:""}},methods:{sendRequest:function(){return P(this,void 0,void 0,function(){var t,e,s=this;return j(this,function(n){switch(n.label){case 0:return t="/api/device-group/tokens/"+this.destUserId+"/"+this.chosenLang,this.loading=!0,[4,fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken}})];case 1:return e=n.sent(),[4,e.json().then(function(t){"success"===t.status?(s.tokenList=t.result,s.destUserId="",s.chosenLang="",s.result="Success"):s.result=t.status}).catch(function(t){s.result=t})];case 2:return n.sent(),this.loading=!1,[2]}})})}}},$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destUserId,expression:"destUserId"}],staticClass:"mdc-text-field__input",attrs:{id:"token-dest-user-id",type:"text"},domProps:{value:t.destUserId},on:{input:function(e){e.target.composing||(t.destUserId=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"token-dest-user-id"}},[t._v("\n                User ID\n              ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n        Choose Language:\n        "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenLang,expression:"chosenLang"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenLang=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.availableLang,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("pre",{staticClass:"prettyprint lang-js"},[t._v("fetch('https://iceicebaby.com/api/device-group/tokens/"+t._s(t.destUserId)+"/"+t._s(t.chosenLang)+"', {\n  method: 'GET',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'x-access-token': '"+t._s(t.$store.state.authToken)+"'\n  }\n});\n      ")])]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.tokenList.length>0||t.loading,expression:"tokenList.length > 0 || loading"}],staticClass:"mdc-card__supporting-text"},[s("Spinner",{attrs:{show:t.loading}}),s("ul",{staticClass:"mdc-list mdc-list--two-line mdc-list--dense demo-list token-list--table-body"},t._l(t.tokenList,function(e){return s("li",{staticClass:"mdc-list-item token-list--table-row token--wrap-text device-group-token-list--list-item"},[s("span",{staticClass:"mdc-list-item__text"},[t._v("\n            "+t._s(e.type)+" - "+t._s(e.lang)+"\n            "),s("span",{staticClass:"mdc-list-item__secondary-text"},[t._v(t._s(e.token))])])])}))],1),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendRequest()}}},[t._v("Punch It!")])])])},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Query List of Tokens")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Retrieve list of tokens from a specific device group")])])}],F={render:$,staticRenderFns:N},R=F,A=s(0),G=i,M=A(E,R,!1,G,null,null),O=M.exports,q=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))(function(a,i){function r(t){try{c(n.next(t))}catch(t){i(t)}}function o(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?a(t.value):new s(function(e){e(t.value)}).then(r,o)}c((n=n.apply(t,e||[])).next())})},J=this&&this.__generator||function(t,e){function s(t){return function(e){return n([t,e])}}function n(s){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,i&&(r=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){c.label=s[1];break}if(6===s[0]&&c.label<r[1]){c.label=r[1],r=s;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(s);break}r[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{a=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var a,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},B={name:"change-lang",components:{Spinner:c.a},created:function(){},data:function(){return{chosenLang:"en",availableLang:["zh-hk","en"],destUserId:"test",destToken:this.$store.state.webPushToken,loading:!1,result:""}},methods:{sendRequest:function(){return q(this,void 0,void 0,function(){var t,e,s,n,a;return J(this,function(i){switch(i.label){case 0:return this.result=void 0,t={userId:this.destUserId,token:this.destToken,targetLang:this.chosenLang},e="/api/device-group/change-lang",this.loading=!0,[4,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken},body:JSON.stringify(t)})];case 1:return s=i.sent(),[4,s.json()];case 2:return n=i.sent(),this.loading=!1,"failure"===n.status?this.result="Failure":(this.result="Success: "+n.result.msg,this.$store.state.webPushToken===this.destToken&&(a=localStorage.getItem("chosen_lang"))!==this.chosenLang&&localStorage.setItem("chosen_lang",this.chosenLang)),[2]}})})}}},z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destUserId,expression:"destUserId"}],staticClass:"mdc-text-field__input",attrs:{id:"change-lang-dest-user-id",type:"text"},domProps:{value:t.destUserId},on:{input:function(e){e.target.composing||(t.destUserId=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"change-lang-dest-user-id"}},[t._v("\n                User ID\n              ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n        Choose Language:\n        "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenLang,expression:"chosenLang"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenLang=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.availableLang,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-text-field mdc-text-field--textarea"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.destToken,expression:"destToken"}],staticClass:"mdc-text-field__input",attrs:{id:"change-lang-token",rows:"8",cols:"40",placeholder:"Token"},domProps:{value:t.destToken},on:{input:function(e){e.target.composing||(t.destToken=e.target.value)}}})])])])]),s("section",{staticClass:"mdc-card__primary"},[s("pre",{staticClass:"prettyprint lang-js"},[t._v("fetch('https://iceicebaby.com/api/device-group/change-lang',{\n  method: 'POST',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'x-access-token': '"+t._s(t.$store.state.authToken)+"'\n  },\n  body: JSON.stringify({\n    userId: '"+t._s(t.destUserId)+"',\n    token: '"+t._s(t.destToken)+"',\n    targetLang: '"+t._s(t.chosenLang)+"'\n  })\n});\n      ")])]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.result||t.loading,expression:"result || loading"}],staticClass:"mdc-card__primary"},[s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Result:")]),t._v("\n      "+t._s(t.result)+" "),s("Spinner",{attrs:{show:t.loading}})],1),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendRequest()}}},[t._v("Punch It!")])])])},H=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Change Language")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Change Language")])])}],Q={render:z,staticRenderFns:H},K=Q,V=s(0),W=r,X=V(B,K,!1,W,null,null),Y=X.exports,Z={name:"device-group-page",components:{DeviceGroupMessage:b,DeviceGroupList:D,TokenList:O,ChangeLang:Y}},tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"demo-grid mdc-layout-grid"},[s("div",{staticClass:"mdc-layout-grid__inner"},[s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("DeviceGroupMessage")],1),s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("ChangeLang")],1),s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("DeviceGroupList")],1),s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("TokenList")],1)])])},et=[],st={render:tt,staticRenderFns:et},nt=st,at=s(0),it=o,rt=at(Z,nt,!1,it,null,null);e.default=rt.exports}});