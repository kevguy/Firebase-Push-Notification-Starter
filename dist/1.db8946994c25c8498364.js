webpackJsonp([1],{25:function(t,e,s){"use strict";function a(t){s(26)}var n={name:"spinner",props:["show"],serverCacheKey:function(t){return t.show}},i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[s("svg",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"spinner",class:{show:t.show},attrs:{width:"44px",height:"44px",viewBox:"0 0 44 44"}},[s("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},o=[],r={render:i,staticRenderFns:o},c=r,l=s(0),d=a,u=l(n,c,!1,d,null,null);e.a=u.exports},26:function(t,e,s){var a=s(27);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(3)("dcfe3e92",a,!0)},27:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,".spinner{-webkit-transition:opacity .15s ease;-o-transition:opacity .15s ease;transition:opacity .15s ease;-webkit-animation:rotator 1.4s linear infinite;animation:rotator 1.4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}.spinner.show{-webkit-animation-play-state:running;animation-play-state:running}.spinner.v-enter,.spinner.v-leave-active{opacity:0}.spinner.v-enter-active,.spinner.v-leave{opacity:1}.spinner .path{stroke:#f60;stroke-dasharray:126;stroke-dashoffset:0;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-animation:dash 1.4s ease-in-out infinite;animation:dash 1.4s ease-in-out infinite}@-webkit-keyframes rotator{0%{-webkit-transform:scale(.5) rotate(0deg);transform:scale(.5) rotate(0deg)}to{-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}}@keyframes rotator{0%{-webkit-transform:scale(.5) rotate(0deg);transform:scale(.5) rotate(0deg)}to{-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}}@-webkit-keyframes dash{0%{stroke-dashoffset:126}50%{stroke-dashoffset:63;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:126;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes dash{0%{stroke-dashoffset:126}50%{stroke-dashoffset:63;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:126;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}",""])},50:function(t,e,s){var a=s(51);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(3)("174c10e1",a,!0)},51:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"",""])},52:function(t,e,s){var a=s(53);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(3)("42627bf8",a,!0)},53:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"\n.separating-line {\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n}\n",""])},54:function(t,e,s){var a=s(55);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(3)("a904513e",a,!0)},55:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"\n.separating-line {\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n}\n",""])},56:function(t,e,s){var a=s(57);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(3)("9d5ee40e",a,!0)},57:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"\n.separating-line {\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n}\n",""])},62:function(t,e,s){"use strict";function a(t){s(52)}function n(t){s(54)}function i(t){s(56)}function o(t){s(50)}Object.defineProperty(e,"__esModule",{value:!0});var r=s(25),c=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))(function(n,i){function o(t){try{c(a.next(t))}catch(t){i(t)}}function r(t){try{c(a.throw(t))}catch(t){i(t)}}function c(t){t.done?n(t.value):new s(function(e){e(t.value)}).then(o,r)}c((a=a.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function s(t){return function(e){return a([t,e])}}function a(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(o=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[0,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(o=c.trys,!(o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,i,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},d={name:"topic-send-msg",components:{Spinner:r.a},data:function(){return{destTopic:"",destType:"",chosenLang:"",title:"",message:"",result:void 0,loading:!1,chosenDebugUser:""}},created:function(){},mounted:function(){window.mdc.textField.MDCTextField.attachTo(document.querySelector(".mdc-text-field"))},computed:{userId:function(){return this.$store.state.userId},debugUsers:function(){return this.$store.state.debugUsers},availableLangs:function(){return this.$store.state.availableLangs}},asyncData:function(t){return t.store.dispatch("FETCH_DEBUG_USERS").dispatch("FETCH_AVAILABLE_LANGS")},methods:{sendMessage:function(){return c(this,void 0,void 0,function(){var t,e,s;return l(this,function(a){switch(a.label){case 0:return this.result=void 0,this.loading=!0,t={topic:this.destTopic,msg:{title:this.title,body:this.message}},[4,fetch("/api/topic-message",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken},body:JSON.stringify(t)})];case 1:return e=a.sent(),[4,e.json()];case 2:return s=a.sent(),this.loading=!1,console.log(s),"failure"===s.status?this.result="Failure":this.result="Success",[2]}})})}}},u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__supporting-text",staticStyle:{"font-style":"italic","margin-top":"10px"}},[t._v("\n    Every token registered is automatically subscribed to the 'test' channel. Use this to send a message and broadcast it to every device.\n  ")]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destType,expression:"destType"}],staticClass:"mdc-text-field__input",attrs:{id:"topic-send-msg-type",type:"text"},domProps:{value:t.destType},on:{input:function(e){e.target.composing||(t.destType=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"topic-send-msg-type"}},[t._v("\n              Type\n            ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])])])]),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n      Choose Language:\n      "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenLang,expression:"chosenLang"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenLang=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.availableLangs,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"mdc-text-field__input",attrs:{id:"dtopic-send-msg-msg-title",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"topic-send-msg-msg-title"}},[t._v("\n              Title\n            ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])]),s("div",[s("div",{staticClass:"mdc-text-field mdc-text-field--textarea"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"mdc-text-field__input",attrs:{id:"topic-send-msg-msg-message",rows:"8",cols:"40",placeholder:"Message Body"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.result||t.loading,expression:"result || loading"}],staticClass:"mdc-card__primary"},[s("Spinner",{attrs:{show:t.loading}}),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Result:")]),t._v("\n    "+t._s(t.result)+"\n  ")],1),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendMessage()}}},[t._v("Punch It!")])])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Send to Topic")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Send a message through topic")])])}],p={render:u,staticRenderFns:m},f=p,g=s(0),h=a,v=g(d,f,!1,h,null,null),_=v.exports,y=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))(function(n,i){function o(t){try{c(a.next(t))}catch(t){i(t)}}function r(t){try{c(a.throw(t))}catch(t){i(t)}}function c(t){t.done?n(t.value):new s(function(e){e(t.value)}).then(o,r)}c((a=a.apply(t,e||[])).next())})},b=this&&this.__generator||function(t,e){function s(t){return function(e){return a([t,e])}}function a(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(o=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[0,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(o=c.trys,!(o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,i,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},w={name:"topic-send-broadcast-msg",components:{Spinner:r.a},data:function(){return{result:void 0,loading:!1,chosenLang:"",title:"",message:""}},created:function(){},mounted:function(){window.mdc.textField.MDCTextField.attachTo(document.querySelector(".mdc-text-field"))},computed:{userId:function(){return this.$store.state.userId},availableLangs:function(){return this.$store.state.availableLangs}},asyncData:function(t){return t.store.dispatch("FETCH_DEBUG_USERS").dispatch("FETCH_AVAILABLE_LANGS")},methods:{sendMessage:function(){return y(this,void 0,void 0,function(){var t,e,s;return b(this,function(a){switch(a.label){case 0:return this.result=void 0,this.loading=!0,t={lang:this.chosenLang,msg:{title:this.title,body:this.message}},[4,fetch("/api/broadcast-message",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken},body:JSON.stringify(t)})];case 1:return e=a.sent(),[4,e.json()];case 2:return s=a.sent(),this.loading=!1,console.log(s),"failure"===s.status?this.result="Failure":this.result="Success",[2]}})})}}},x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__supporting-text",staticStyle:{"font-style":"italic","margin-top":"10px"}},[t._v("\n    Send a message to a language group. If a token'e language preference matches,\n    the device it's belong to will receive the message.\n  ")]),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n      Choose Language:\n      "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenLang,expression:"chosenLang"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenLang=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.availableLangs,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"mdc-text-field__input",attrs:{id:"dtopic-send-msg-msg-title",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"topic-send-msg-msg-title"}},[t._v("\n              Title\n            ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])]),s("div",[s("div",{staticClass:"mdc-text-field mdc-text-field--textarea"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"mdc-text-field__input",attrs:{id:"topic-send-msg-msg-message",rows:"8",cols:"40",placeholder:"Message Body"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])]),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendMessage()}}},[t._v("Punch It!")])])])},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Send Broadcast Message")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Send a custom message with a specific language")])])}],k={render:x,staticRenderFns:C},S=k,T=s(0),L=n,E=T(w,S,!1,L,null,null),F=E.exports,M=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))(function(n,i){function o(t){try{c(a.next(t))}catch(t){i(t)}}function r(t){try{c(a.throw(t))}catch(t){i(t)}}function c(t){t.done?n(t.value):new s(function(e){e(t.value)}).then(o,r)}c((a=a.apply(t,e||[])).next())})},$=this&&this.__generator||function(t,e){function s(t){return function(e){return a([t,e])}}function a(s){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(o=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[0,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,i=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(o=c.trys,!(o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,i,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},A={name:"topic-send-welcome-msg",components:{Spinner:r.a},data:function(){return{result:void 0,loading:!1}},created:function(){},mounted:function(){window.mdc.textField.MDCTextField.attachTo(document.querySelector(".mdc-text-field"))},computed:{userId:function(){return this.$store.state.userId},availableLangs:function(){return this.$store.state.availableLangs}},asyncData:function(t){return t.store.dispatch("FETCH_DEBUG_USERS").dispatch("FETCH_AVAILABLE_LANGS")},methods:{sendMessage:function(){return M(this,void 0,void 0,function(){var t,e;return $(this,function(s){switch(s.label){case 0:return this.result=void 0,this.loading=!0,[4,fetch("/api/welcome-message",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":this.$store.state.authToken}})];case 1:return t=s.sent(),[4,t.json()];case 2:return e=s.sent(),this.loading=!1,console.log(e),"failure"===e.status?this.result="Failure":this.result="Success",[2]}})})}}},P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__supporting-text",staticStyle:{"font-style":"italic","margin-top":"10px"}},[t._v("\n    Send a message to a language group. If a token'e language preference matches,\n    the device it's belong to will receive the message.\n  ")]),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendMessage()}}},[t._v("Punch It!")])])])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Send Welcome Message")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Send a welcome message with different languages")])])}],N={render:P,staticRenderFns:I},D=N,B=s(0),j=i,U=B(A,D,!1,j,null,null),G=U.exports,R={name:"topic-page",mounted:function(){console.log("topic page mounted")},components:{SendMsg:_,BroadcastMsg:F,WelcomeMsg:G}},H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"demo-grid mdc-layout-grid"},[s("div",{staticClass:"mdc-layout-grid__inner"},[s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("SendMsg")],1),s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("BroadcastMsg")],1),s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("WelcomeMsg")],1)])])},O=[],q={render:H,staticRenderFns:O},J=q,V=s(0),W=o,K=V(R,J,!1,W,null,null);e.default=K.exports}});