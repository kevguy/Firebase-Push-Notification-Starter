webpackJsonp([4],[,,,,,function(t,e,a){"use strict";function n(t){a(14)}function r(t){a(16)}function i(t){a(11)}function s(){return new V.a.Store({state:{debugUsers:[{username:"Kev",userId:"-999"},{username:"Milton",userId:"-998"},{username:"Indy",userId:"-997"},{username:"Simon",userId:"-996"},{username:"Youseff",userId:"-995"}],availableLangs:["zh-hk","en"],deviceToken:"Not Yet Retrieved",deviceUserId:"Not Yet Retrieved",showSnackbar:!1,snackbarMsg:{message:"",actionText:""},activeType:null,itemsPerPage:20,items:{},users:{},lists:{top:[],new:[],show:[],ask:[],job:[]}},actions:G,mutations:W,getters:q})}function o(){return new Y.a({mode:"history",fallback:!1,scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/tokens-info",component:J},{path:"/device-group-info",component:X},{path:"/direct-message-info",component:Q},{path:"/",redirect:"/tokens-info"}]})}function c(t){var e=t.$options.title;if(e)return"function"==typeof e?e.call(t):e}function l(t){var e=t.replace(/^https?:\/\//,"").replace(/\/.*$/,""),a=e.split(".").slice(-3);return"www"===a[0]&&a.shift(),a.join(".")}function u(t){var e=Date.now()/1e3-Number(t);return e<3600?d(~~(e/60)," minute"):e<86400?d(~~(e/3600)," hour"):d(~~(e/86400)," day")}function d(t,e){return 1===t?t+e:t+e+"s"}function m(t){a(20)}Object.defineProperty(e,"__esModule",{value:!0});var f={};a.d(f,"host",function(){return l}),a.d(f,"timeAgo",function(){return u});var h=a(0),p=(a(9),{name:"drawer",props:["show"],data:function(){return{drawer:void 0}},mounted:function(){this.drawer=new window.mdc.drawer.MDCTemporaryDrawer(document.querySelector(".mdc-temporary-drawer")),this.drawer.open=!1},watch:{show:function(t){this.drawer.open=!!t}}}),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"mdc-temporary-drawer mdc-typography"},[a("nav",{staticClass:"mdc-temporary-drawer__drawer"},[t._m(0),a("div",{staticClass:"mdc-list-group"},[a("nav",{staticClass:"mdc-temporary-drawer__content mdc-list",attrs:{id:"icon-with-text-demo"}},[a("router-link",{staticClass:"mdc-list-item",attrs:{"active-class":"mdc-temporary-drawer--selected",tag:"a",to:"/tokens-info",exact:""}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("inbox")]),t._v("Tokens\n      ")]),a("router-link",{staticClass:"mdc-list-item",attrs:{"active-class":"mdc-temporary-drawer--selected",tag:"a",to:"/device-group-info",exact:""}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("inbox")]),t._v("Device Groups\n      ")]),a("router-link",{staticClass:"mdc-list-item",attrs:{"active-class":"mdc-temporary-drawer--selected",tag:"a",to:"/direct-message-info",exact:""}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("inbox")]),t._v("Direct Message\n      ")]),t._m(1),t._m(2)],1),a("hr",{staticClass:"mdc-list-divider"}),t._m(3)])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"mdc-temporary-drawer__header"},[a("div",{staticClass:"mdc-temporary-drawer__header-content"},[t._v("\n        Header here\n      ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"mdc-list-item mdc-temporary-drawer--selected",attrs:{href:"#"}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("inbox")]),t._v("Inbox\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"mdc-list-item",attrs:{href:"#"}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("star")]),t._v("Star\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"mdc-temporary-drawer__content mdc-list",attrs:{id:"icon-with-text-demo1"}},[a("a",{staticClass:"mdc-list-item mdc-temporary-drawer--selected",attrs:{href:"#"}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("inbox")]),t._v("Inbox\n      ")]),a("a",{staticClass:"mdc-list-item",attrs:{href:"#"}},[a("i",{staticClass:"material-icons mdc-list-item__start-detail",attrs:{"aria-hidden":"true"}},[t._v("star")]),t._v("Star\n      ")])])}],b={render:_,staticRenderFns:v},w=b,g=a(1),S=n,y=g(p,w,!1,S,null,null),C=y.exports,E={name:"snack-bar",data:function(){return{snackbar:void 0}},mounted:function(){this.snackbar=new window.mdc.snackbar.MDCSnackbar(document.querySelector(".mdc-snackbar"))},computed:{showSnackBar:function(){return this.$store.state.showSnackbar},msgData:function(){return this.$store.state.snackbarMsg}},watch:{showSnackBar:function(t){if(t){var e={message:this.msgData.message,actionText:this.msgData.actionText,actionHandler:function(){console.info("show notification")}};this.snackbar.show(e),this.$store.commit("SET_SHOW_SNACKBAR",!1)}}}},k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mdc-snackbar",attrs:{"aria-live":"assertive","aria-atomic":"true","aria-hidden":"true"}},[a("div",{staticClass:"mdc-snackbar__text"}),a("div",{staticClass:"mdc-snackbar__action-wrapper"},[a("button",{staticClass:"mdc-snackbar__action-button",attrs:{type:"button"}})])])}],x={render:k,staticRenderFns:T},I=x,M=a(1),A=r,D=M(E,I,!1,A,null,null),$=D.exports,R=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))(function(r,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function o(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new a(function(e){e(t.value)}).then(s,o)}c((n=n.apply(t,e||[])).next())})},P=this&&this.__generator||function(t,e){function a(t){return function(e){return n([t,e])}}function n(a){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(s=i[2&a[0]?"return":a[0]?"throw":"next"])&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[0,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,i=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){c.label=a[1];break}if(6===a[0]&&c.label<s[1]){c.label=s[1],s=a;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(a);break}s[2]&&c.ops.pop(),c.trys.pop();continue}a=e.call(t,c)}catch(t){a=[6,t],i=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var r,i,s,o,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},U={name:"main-app",components:{Drawer:C,Snackbar:$},data:function(){return{showMenu:!1}},mounted:function(){return R(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.setupFirebase(),this.findUserIdAndToken(),this.$store.state.userId||this.$store.state.token?[3,2]:[4,this.askMsgPermission()];case 1:t.sent(),t.label=2;case 2:return this.startMessageListener(),[2]}})})},computed:{deviceToken:function(){return this.$store.state.deviceToken},deviceUserId:function(){return this.$store.state.deviceUserId}},methods:{setupFirebase:function(){var t={apiKey:"AIzaSyATXSrM1qq7L-H_xVtF0rwLpPjlbR-7cOo",authDomain:"kevchat-a5b6f.firebaseapp.com",databaseURL:"https://kevchat-a5b6f.firebaseio.com",projectId:"kevchat-a5b6f",storageBucket:"kevchat-a5b6f.appspot.com",messagingSenderId:"788651942380"};firebase.initializeApp(t)},askMsgPermission:function(){return R(this,void 0,void 0,function(){var t,e,a;return P(this,function(n){switch(n.label){case 0:t=firebase.messaging(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.requestPermission()];case 2:return e=n.sent(),[2,e];case 3:return a=n.sent(),console.error("Unable to get permission to notify.",a),[3,4];case 4:return[2]}})})},startMessageListener:function(){var t=this;firebase.messaging().onMessage(function(e){console.log("Message received. ",e),t.$store.commit("SET_SHOW_SNACKBAR_MESSAGE",{message:e.notification.title+" - "+e.notification.body,actionText:""}),t.$store.commit("SET_SHOW_SNACKBAR",!0)})},findUserIdAndToken:function(){var t=localStorage.getItem("userId"),e=localStorage.getItem("token");t&&e&&(this.$store.commit("SET_DEVICE_USER_ID",t),this.$store.commit("SET_DEVICE_TOKEN",e))},openDrawer:function(){this.showMenu=!0},closeDrawer:function(){this.showMenu=!1}}},N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mdc-typography app-body mdc-drawer-scroll-lock",attrs:{id:"app"},on:{click:function(e){t.closeDrawer()}}},[a("header",{staticClass:"mdc-toolbar mdc-toolbar--fixed mdc-elevation--z4"},[a("div",{staticClass:"mdc-toolbar__row"},[a("section",{staticClass:"mdc-toolbar__section mdc-toolbar__section--align-start"},[a("button",{staticClass:"app-menu material-icons mdc-toolbar__menu-icon",on:{click:function(e){e.stopPropagation(),t.openDrawer()}}},[t._v("menu")]),a("span",{staticClass:"mdc-toolbar__title catalog-title"},[t._v("Ice Ice Baby: "+t._s(t.deviceUserId)+" - "+t._s(t.deviceToken))])]),t._m(0)])]),a("Drawer",{attrs:{show:t.showMenu}}),a("div",{staticClass:"app-content mdc-toolbar-fixed-adjust",on:{click:function(e){t.closeDrawer()}}},[a("main",{staticClass:"app-main"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticClass:"view"})],1)],1)]),a("Snackbar")],1)},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mdc-toolbar__section mdc-toolbar__section--align-end",attrs:{role:"toolbar"}},[a("a",{staticClass:"material-icons mdc-toolbar__icon",attrs:{href:"#","aria-label":"Download",alt:"Download"}},[t._v("file_download")]),a("a",{staticClass:"material-icons mdc-toolbar__icon",attrs:{href:"#","aria-label":"Print this page",alt:"Print this page"}},[t._v("print")]),a("a",{staticClass:"material-icons mdc-toolbar__icon toggle",attrs:{href:"#","aria-label":"More",alt:"More"}},[t._v("more_vert")]),a("div",{staticClass:"mdc-menu-anchor"},[a("div",{staticClass:"mdc-simple-menu",staticStyle:{"transform-origin":"right top 0px",right:"0px",top:"0px",transform:"scale(0, 0)"},attrs:{tabindex:"-1",id:"demo-menu"}},[a("ul",{staticClass:"mdc-simple-menu__items mdc-list",staticStyle:{transform:"scale(1, 1)"},attrs:{role:"menu","aria-hidden":"true"}},[a("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem",tabindex:"0"}},[t._v("Back")]),a("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem",tabindex:"0"}},[t._v("Forward")]),a("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem",tabindex:"0"}},[t._v("Reload")]),a("li",{staticClass:"mdc-list-divider",attrs:{role:"separator"}}),a("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem",tabindex:"0"}},[t._v("Save As...")])])])])])}],O={render:N,staticRenderFns:H},B=O,F=a(1),L=i,j=F(U,B,!1,L,null,null),K=j.exports,V=a(17),G={FETCH_DEBUG_USERS:function(t){var e=(t.commit,t.state);return Promise.resolve(e.debugUsers)},FETCH_AVAILABLE_LANGS:function(t){var e=(t.commit,t.state);return Promise.resolve(e.availableLangs)},FETCH_LIST_DATA:function(t,e){var a=t.commit;t.dispatch,t.state;return a("SET_ACTIVE_TYPE",{type:e.type}),Promise.resolve("")},ENSURE_ACTIVE_ITEMS:function(t){return(0,t.dispatch)("FETCH_ITEMS",{ids:t.getters.activeIds})},FETCH_ITEMS:function(t,e){var a=(t.commit,t.state),n=e.ids,r=Date.now();return n=n.filter(function(t){var e=a.items[t];return!e||r-e.__lastUpdated>18e4}),Promise.resolve("")},FETCH_USER:function(t,e){t.commit,t.state,e.id;return Promise.resolve("")}},z=this&&this.__assign||Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++){e=arguments[a];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},W={SET_DEVICE_TOKEN:function(t,e){t.deviceToken=e},SET_DEVICE_USER_ID:function(t,e){t.deviceUserId=e},SET_SHOW_SNACKBAR:function(t,e){t.showSnackbar=e},SET_SHOW_SNACKBAR_MESSAGE:function(t,e){t.snackbarMsg=z({},e,{actionText:e.actionText||"Close"})},RESET_SHOW_SNACKBAR_MESSAGE:function(t){t.snackbarMsg={message:"",actionText:""}},SET_ACTIVE_TYPE:function(t,e){var a=e.type;t.activeType=a},SET_LIST:function(t,e){var a=e.type,n=e.ids;t.lists[a]=n},SET_ITEMS:function(t,e){e.items.forEach(function(e){e&&h.a.set(t.items,e.id,e)})},SET_USER:function(t,e){var a=e.id,n=e.user;h.a.set(t.users,a,n||!1)}},q={activeIds:function(t){var e=t.activeType,a=t.itemsPerPage,n=t.lists;if(!e)return[];var r=Number(t.route.params.page)||1,i=(r-1)*a,s=r*a;return n[e].slice(i,s)},activeItems:function(t,e){return e.activeIds.map(function(e){return t.items[e]}).filter(function(t){return t})}};h.a.use(V.a);var Y=a(18);h.a.use(Y.a);var J=function(){return a.e(0).then(a.bind(null,39))},X=function(){return a.e(1).then(a.bind(null,40))},Q=function(){return a.e(2).then(a.bind(null,41))},Z=a(19),tt={mounted:function(){var t=c(this);t&&(document.title="Vue HN 2.0 | "+t)}},et=tt;h.a.mixin(et),Object.keys(f).forEach(function(t){h.a.filter(t,f[t])});var at={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}},nt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"progress",style:{width:t.percent+"%",height:t.height,"background-color":t.canSuccess?t.color:t.failedColor,opacity:t.show?1:0}})},rt=[],it={render:nt,staticRenderFns:rt},st=it,ot=a(1),ct=m,lt=ot(at,st,!1,ct,"data-v-64569e3c",null),ut=lt.exports,dt=h.a.prototype.$bar=new h.a(ut).$mount();document.body.appendChild(dt.$el),h.a.mixin({beforeRouteUpdate:function(t,e,a){var n=this.$options.asyncData;n?n({store:this.$store,route:t}).then(a).catch(a):a()}});var mt=function(){var t=s(),e=o();return Object(Z.sync)(t,e),{app:new h.a({router:e,store:t,render:function(t){return t(K)}}),router:e,store:t}}(),ft=mt.app,ht=mt.router,pt=mt.store;window.__INITIAL_STATE__&&pt.replaceState(window.__INITIAL_STATE__),ht.onReady(function(){ht.beforeResolve(function(t,e,a){var n=ht.getMatchedComponents(t),r=ht.getMatchedComponents(e),i=!1,s=n.filter(function(t,e){return i||(i=r[e]!==t)}),o=s.map(function(t){return t.asyncData}).filter(function(t){return t});if(!o.length)return a();dt.start(),Promise.all(o.map(function(e){return e({store:pt,route:t})})).then(function(){dt.finish(),a()}).catch(a)}),ft.$mount("#app")})},,,,,,function(t,e,a){var n=a(12);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(3)("aa1bf75e",n,!0)},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.i,"\n.fade-enter-active, .fade-leave-active {\n  -webkit-transition: all .2s ease;\n  -o-transition: all .2s ease;\n  transition: all .2s ease;\n}\n.fade-enter, .fade-leave-active {\n  opacity: 0;\n}\n\n/* Ensure layout covers the entire screen. */\nhtml {\n  height: 100%;\n}\n\n/* Place drawer and content side by side. */\n.app-body {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  margin: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n/* Stack toolbar and main on top of each other. */\n.app-main {\n  padding-left: 16px;\n  padding-right: 16px;\n  overflow: auto;\n}\n",""])},,function(t,e,a){var n=a(15);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(3)("ab97436a",n,!0)},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.i,"",""])},function(t,e){},,,,function(t,e){}],[5]);