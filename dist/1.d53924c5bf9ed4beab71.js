webpackJsonp([1],{25:function(t,e,s){"use strict";function n(t){s(26)}var a={name:"spinner",props:["show"],serverCacheKey:function(t){return t.show}},i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[s("svg",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"spinner",class:{show:t.show},attrs:{width:"44px",height:"44px",viewBox:"0 0 44 44"}},[s("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},o=[],r={render:i,staticRenderFns:o},c=r,l=s(0),d=n,u=l(a,c,!1,d,null,null);e.a=u.exports},26:function(t,e,s){var n=s(27);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("dcfe3e92",n,!0)},27:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,".spinner{-webkit-transition:opacity .15s ease;-o-transition:opacity .15s ease;transition:opacity .15s ease;-webkit-animation:rotator 1.4s linear infinite;animation:rotator 1.4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}.spinner.show{-webkit-animation-play-state:running;animation-play-state:running}.spinner.v-enter,.spinner.v-leave-active{opacity:0}.spinner.v-enter-active,.spinner.v-leave{opacity:1}.spinner .path{stroke:#f60;stroke-dasharray:126;stroke-dashoffset:0;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-animation:dash 1.4s ease-in-out infinite;animation:dash 1.4s ease-in-out infinite}@-webkit-keyframes rotator{0%{-webkit-transform:scale(.5) rotate(0deg);transform:scale(.5) rotate(0deg)}to{-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}}@keyframes rotator{0%{-webkit-transform:scale(.5) rotate(0deg);transform:scale(.5) rotate(0deg)}to{-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}}@-webkit-keyframes dash{0%{stroke-dashoffset:126}50%{stroke-dashoffset:63;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:126;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes dash{0%{stroke-dashoffset:126}50%{stroke-dashoffset:63;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:126;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}",""])},28:function(t,e,s){var n=s(29);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("d3a729e6",n,!0)},29:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"",""])},30:function(t,e,s){var n=s(31);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(3)("690f3c29",n,!0)},31:function(t,e,s){e=t.exports=s(2)(void 0),e.push([t.i,"\n.separating-line {\n  border-bottom-color: rgba(0, 0, 0, 0.12);\n}\n.token--wrap-text {\n  overflow-wrap: break-word;\n}\n.token--wrap-text span {\n    max-width: 100%;\n}\n.token-list--table-body {\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 300px;\n  display: grid;\n  max-width: 100%;\n}\n.token-list--table-row {\n  display: inline-block;\n  white-space: normal;\n  margin-bottom: 8px;\n}\n",""])},52:function(t,e,s){"use strict";function n(t){s(30)}function a(t){s(28)}Object.defineProperty(e,"__esModule",{value:!0});var i=s(25),o={components:{Spinner:i.a},data:function(){return{tokenList:[],destUserId:"",loading:!1,chosenDebugUser:""}},created:function(){},computed:{debugUsers:function(){return this.$store.state.debugUsers}},watch:{destUserId:function(t){t&&(this.chosenDebugUser="")},chosenDebugUser:function(t){t&&(this.destUserId="")}},asyncData:function(t){return t.store.dispatch("FETCH_DEBUG_USERS")},methods:{sendRequest:function(){var t=this;this.chosenDebugUser&&(this.destUserId=this.chosenDebugUser),console.log("retrieving token");var e="/api/tokens/"+this.destUserId;this.loading=!0,fetch(e).then(function(t){return t.json()}).then(function(e){t.loading=!1,console.log(e),"failure"===e.status?t.tokenList=[]:t.tokenList=Object.keys(e.result).map(function(t){return{token:t,type:e.result[t].type,lang:e.result[t].lang}})}).catch(function(e){t.loading=!1,console.error(e)})}}},r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-card"},[t._m(0),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[s("div",[s("div",{staticClass:"mdc-form-field"},[s("div",{staticClass:"mdc-text-field",attrs:{"data-mdc-auto-init":"MDCTextField"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destUserId,expression:"destUserId"}],staticClass:"mdc-text-field__input",attrs:{id:"token-dest-user-id",type:"text"},domProps:{value:t.destUserId},on:{input:function(e){e.target.composing||(t.destUserId=e.target.value)}}}),s("label",{staticClass:"mdc-text-field__label",attrs:{for:"token-dest-user-id"}},[t._v("\n              User ID\n            ")]),s("div",{staticClass:"mdc-text-field__bottom-line"})])])])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[s("form",{attrs:{action:"#"}},[t._v("\n      OR pick a debug User ID:\n      "),s("div",{staticClass:"mdc-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenDebugUser,expression:"chosenDebugUser"}],staticClass:"mdc-select__surface",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenDebugUser=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Choose...")]),t._l(t.debugUsers,function(e){return s("option",{domProps:{value:e.userId}},[t._v(t._s(e.username))])})],2),s("div",{staticClass:"mdc-select__bottom-line"})])])]),s("hr",{staticClass:"mdc-list-divider separating-line"}),s("section",{staticClass:"mdc-card__primary"},[t._v("\n    fetch('https://iceicebaby.com/api/tokens/"+t._s(t.destUserId||t.chosenDebugUser)+"')\n  ")]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.tokenList.length>0||t.loading,expression:"tokenList.length > 0 || loading"}],staticClass:"mdc-card__supporting-text"},[s("Spinner",{attrs:{show:t.loading}}),s("ul",{staticClass:"mdc-list mdc-list--two-line mdc-list--dense demo-list token-list--table-body"},t._l(t.tokenList,function(e){return s("li",{staticClass:"mdc-list-item token-list--table-row token--wrap-text"},[s("span",{staticClass:"mdc-list-item__text"},[t._v("\n          "+t._s(e.type)+" ("+t._s(e.lang)+")\n          "),s("span",{staticClass:"mdc-list-item__secondary-text"},[t._v(t._s(e.token))])])])}))],1),s("section",{staticClass:"mdc-card__actions"},[s("button",{staticClass:"mdc-button mdc-button--compact mdc-card__action",on:{click:function(e){t.sendRequest()}}},[t._v("Punch It!")])])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mdc-card__primary"},[s("h1",{staticClass:"mdc-card__title mdc-card__title--large"},[t._v("Get List of Tokens")]),s("h2",{staticClass:"mdc-card__subtitle"},[t._v("Retrieve list of tokens depending on User ID")])])}],l={render:r,staticRenderFns:c},d=l,u=s(0),m=n,f=u(o,d,!1,m,null,null),p=f.exports,h={name:"token-page",mounted:function(){console.log("token page mounted")},computed:{hasToken:function(){return""!==this.$store.state.deviceToken}},components:{TokenList:p}},g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"demo-grid mdc-layout-grid"},[s("div",{staticClass:"mdc-layout-grid__inner"},[s("div",{staticClass:"demo-cell mdc-layout-grid__cell mdc-layout-grid__cell--span-6 mdc-layout-grid__cell--span-8-tablet"},[s("TokenList")],1)])])},v=[],_={render:g,staticRenderFns:v},k=_,b=s(0),w=a,y=b(h,k,!1,w,null,null);e.default=y.exports}});